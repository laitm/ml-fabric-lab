! Startup-config last modified at Wed Jan 14 19:52:24 2026 by root
! device: leaf1 (cEOSLab, EOS-4.35.1F-45292141.4351F.1 (engineering build))
!
no aaa root
!
username admin privilege 15 role network-admin secret sha512 $6$xbaTuBdbHH5jOAfK$YHqpA8srtg1L097EEYG2E0uU3HoON1FsY2R7RTNkRCGFGovEkt9mdLb83BiS2ut0y/Bv9BJeYRBPaPDHdPRAR.
!
management api http-commands
   protocol http
   no shutdown
   !
   vrf MGMT
      no shutdown
!
no service interface inactive port-id allocation disabled
!
service routing protocols model multi-agent
!
logging vrf MGMT host 172.20.20.216 1514
logging format rfc5424
!
logging level AAA informational
logging level ACCOUNTING informational
logging level ACL informational
logging level AGENT informational
logging level ALE informational
logging level ARP informational
logging level BFD informational
logging level BGP informational
logging level BMP informational
logging level CAPACITY informational
logging level CAPI informational
logging level CLASSIFICATION informational
logging level CLEAR informational
logging level CVX informational
logging level DATAPLANE informational
logging level DHCP informational
logging level DMF informational
logging level DOT1X informational
logging level DOT1XHTTP informational
logging level DSCP informational
logging level ENVMON informational
logging level ETH informational
logging level EVENTMON informational
logging level EXTENSION informational
logging level FHRP informational
logging level FLOW informational
logging level FLOWTRACKING informational
logging level FORWARDING informational
logging level FRU informational
logging level FWK informational
logging level GMP informational
logging level HARDWARE informational
logging level HEALTH informational
logging level HTTPSERVICE informational
logging level IGMP informational
logging level IGMPSNOOPING informational
logging level INFLUXTELEMETRY informational
logging level INT informational
logging level INTF informational
logging level IP6ROUTING informational
logging level IPRIB informational
logging level IRA informational
logging level ISIS informational
logging level KERNELFIB informational
logging level LACP informational
logging level LAG informational
logging level LAUNCHER informational
logging level LDP informational
logging level LICENSE informational
logging level LINEPROTO informational
logging level LLDP informational
logging level LOGMGR informational
logging level LOOPBACK informational
logging level LOOPPROTECT informational
logging level MCS informational
logging level MIRRORING informational
logging level MKA informational
logging level MLAG informational
logging level MLDSNOOPING informational
logging level MMODE informational
logging level MONITORSECURITY informational
logging level MROUTE informational
logging level MRP informational
logging level MSDP informational
logging level MSRP informational
logging level MSSPOLICYMONITOR informational
logging level MVRP informational
logging level NAT informational
logging level OPENCONFIG informational
logging level OPENFLOW informational
logging level OSPF informational
logging level OSPF3 informational
logging level PACKAGE informational
logging level PFC informational
logging level PIMBSR informational
logging level PORTSECURITY informational
logging level POSTCARDTELEMETRY informational
logging level PSEUDOWIRE informational
logging level PTP informational
logging level PWRMGMT informational
logging level QOS informational
logging level QUEUEMONITOR informational
logging level RADIUS informational
logging level REDUNDANCY informational
logging level RIB informational
logging level ROUTING informational
logging level SECURITY informational
logging level SERVERMONITOR informational
logging level SERVERPROBE informational
logging level SFE informational
logging level SPANTREE informational
logging level SSO informational
logging level STAGEMGR informational
logging level SYS informational
logging level SYSDB informational
logging level TAPAGG informational
logging level TCP informational
logging level TRAFFICPOLICY informational
logging level TRANSCEIVER informational
logging level TUNNEL informational
logging level TUNNELINTF informational
logging level VLAN informational
logging level VRF informational
logging level VRRP informational
logging level VXLAN informational
logging level ZTP informational
!
hostname leaf1
!
snmp-server community lab ro
snmp-server vrf MGMT
!
spanning-tree mode mstp
!
system l1
   unsupported speed action error
   unsupported error-correction action error
!
vlan 10
   name TENANT10
!
vrf instance MGMT
!
management api gnmi
   transport grpc default
      vrf MGMT
   provider eos-native
!
aaa authorization exec default local
!
interface Ethernet1
   description to-spine1-eth1
   mtu 9214
   no switchport
   ip address 172.16.0.0/31
!
interface Ethernet2
   description to-spine2-eth1
   mtu 9214
   no switchport
   ip address 172.16.0.4/31
!
interface Ethernet5
   description SPAN_to_ntopng_eth1
   no lldp transmit
   no lldp receive
   spanning-tree portfast edge
!
interface Ethernet10
   description host1_access
   switchport access vlan 10
   spanning-tree portfast edge
!
interface Loopback0
   ip address 10.0.0.11/32
!
interface Loopback1
   ip address 10.0.1.11/32
!
interface Management0
   vrf MGMT
   ip address 172.20.20.21/24
!
interface Vlan10
   description TENANT10_ANYCAST_GW
   ip address virtual 192.168.10.1/24
!
interface Vxlan1
   vxlan source-interface Loopback1
   vxlan udp-port 4789
   vxlan vlan 10 vni 10010
!
ip virtual-router mac-address 00:1c:73:00:00:10
!
ip routing
ip routing vrf MGMT
!
monitor session SPAN source Ethernet1
monitor session SPAN source Ethernet2
monitor session SPAN source Ethernet10
monitor session SPAN destination Ethernet5
!
ip route vrf MGMT 0.0.0.0/0 172.20.20.1
!
router bgp 65101
   router-id 10.0.0.11
   neighbor OVERLAY peer group
   neighbor OVERLAY remote-as 65000
   neighbor OVERLAY update-source Loopback0
   neighbor OVERLAY description OVERLAY_EVPN_EBGP_TO_SPINES
   neighbor OVERLAY ebgp-multihop 3
   neighbor OVERLAY send-community extended
   neighbor OVERLAY maximum-routes 12000
   neighbor UNDERLAY peer group
   neighbor UNDERLAY remote-as 65000
   neighbor UNDERLAY description UNDERLAY_EBGP_TO_SPINES
   neighbor UNDERLAY maximum-routes 12000
   neighbor 10.0.0.1 peer group OVERLAY
   neighbor 10.0.0.2 peer group OVERLAY
   neighbor 172.16.0.1 peer group UNDERLAY
   neighbor 172.16.0.5 peer group UNDERLAY
   !
   vlan 10
      rd 10.0.0.11:10010
      route-target import 65000:10010
      route-target export 65000:10010
      redistribute learned
   !
   address-family evpn
      neighbor OVERLAY activate
   !
   address-family ipv4
      neighbor UNDERLAY activate
      network 10.0.0.11/32
      network 10.0.1.11/32
!
router general
   router-id ipv4 10.0.0.11
!
router multicast
   ipv4
      software-forwarding kernel
   !
   ipv6
      software-forwarding kernel
!
end
